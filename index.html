<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> 活着就是为了改变世界</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="活着就是为了改变世界" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      
<section class="cover">
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/">活着就是为了改变世界</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['面朝大海，春暖花开', '愿你一生努力，一生被爱', '想要的都拥有，得不到的都释怀'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-C++项目：AI五子棋"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/16/C++%E9%A1%B9%E7%9B%AE%EF%BC%9AAI%E4%BA%94%E5%AD%90%E6%A3%8B/"
    >C++项目：AI五子棋</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/16/C++%E9%A1%B9%E7%9B%AE%EF%BC%9AAI%E4%BA%94%E5%AD%90%E6%A3%8B/" class="article-date">
  <time datetime="2023-07-16T09:13:31.000Z" itemprop="datePublished">2023-07-16</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/C/">C++</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1>C++项目：AI五子棋</h1>
<p>搭建框架：项目名右键–添加–类。</p>
<p>设计对外接口：先在头文件中设计对外接口。</p>
<h2 id="语法">语法</h2>
<ol>
<li>类中不写public的默认private。</li>
<li></li>
</ol>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-Labview"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/14/Labview/"
    >Labview</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/14/Labview/" class="article-date">
  <time datetime="2023-07-14T03:40:23.000Z" itemprop="datePublished">2023-07-14</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Labview/">Labview</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="自定义窗口">自定义窗口</h2>
<p>去掉滚动条：右上角右键–VI属性–窗口外观–自定义–取消勾选显示滚动条</p>
<p>窗口大小：右上角右键–VI属性–窗口大小，拉动边框调到最小即可。</p>
<h2 id="自定义控件制作">自定义控件制作</h2>
<ol>
<li>在前面板右击选择需要修改的控件（如布尔圆形指示灯），拉大点便于调整；</li>
<li>右键–制作自定义类型–打开自定义类型–点击小扳手–右键–图片项查看–以相同大小导入，每张图片逐一替换，删掉后面的背景；</li>
<li>最后保存即可</li>
</ol>
<h2 id="获取前面板上所有的控件">获取前面板上所有的控件</h2>
<p>右键空白–应用程序控制–VI服务器引用（允许用户动态控制前面板控件、VI和LabVIEW环境的一系列函数）。</p>
<p>右键空白–应用程序控制–属性节点（获取或设置对象的属性），本VI-引用，属性节点选择前面板。</p>
<p>右键空白–应用程序控制–属性节点，前面板-引用，属性节点选择控件。</p>
<p>控件–创建显示控件（数组，元素为控件句柄）</p>
<h2 id="获取控件高度">获取控件高度</h2>
<p>应用程序控制–属性节点（区域高度）</p>
<h2 id="while循环遍历每个控件">while循环遍历每个控件</h2>
<p>先创建while循环框，终止条件false。</p>
<p>输入数据：控件句柄簇–右键–创建–属性节点–值；控件标签数组–右键–创建–属性节点–值。</p>
<p>截取控件标签前两个字符。</p>
<p>如果控件标签的字符串前两个字符为“石块”，位置加30。</p>
<h2 id="for循环">for循环</h2>
<p>移位寄存器：从一个迭代传输数据到下一个迭代</p>
<p>满足一定条件跳出循环（break）：右键循环框–条件接线端当运行到里面时，把里面的True连接到停止按钮。右键框上的下方块选择未连接时使用默认。</p>
<h2 id="程序执行顺序">程序执行顺序</h2>
<p>平铺式顺序结构</p>
<p>通过错误簇连接</p>
<h2 id="程序暂停一下接着运行">程序暂停一下接着运行</h2>
<p>定时–等待–创建常量100ms</p>
<h2 id="添加随机数">添加随机数</h2>
<p>右键–数值–随机数，设置上限和下限。</p>
<p>U64：[0,100]</p>
<p>I64：[-100,100]</p>
<h2 id="查看数据类型">查看数据类型</h2>
<p>输出端口右键创建显示控件。</p>
<p>常量：右键–表示法</p>
<p>U32：无符号32位整型</p>
<p>I32：有符号32位整型</p>
<h2 id="强制数据类型转换">强制数据类型转换</h2>
<p>右键–数值–转换–转换为长整型</p>
<h2 id="键盘信号采集">键盘信号采集</h2>
<p>右键–互联接口–输入设备控制</p>
<p>初始化键盘、输入数据采集、关闭输入设备</p>
<h2 id="获取键盘输入的值">获取键盘输入的值</h2>
<p>输入数据采集-创建显示控件，复制一份出来，右键–转换为常量，把里面的键拉出来，其他删除即可。</p>
<h2 id="获取当前文件目录">获取当前文件目录</h2>
<ol>
<li>右键–文件IO–文件常量–应用程序目录</li>
<li>使用字符串连接选择下一级目录。若要屏幕输入可以右键创建输入控件。</li>
<li>右键–文件IO–创建路径，应用程序目录-基路径，连接字符串-相对路径</li>
</ol>
<h2 id="框架：确保程序运行一次-指定程序运行时执行">框架：确保程序运行一次/指定程序运行时执行</h2>
<p>添加一个bool指示灯控件，需要运行的程序放在条件框内，里面放一个控制指示灯的属性节点值，赋值False。</p>
<p>程序框图外给bool指示灯赋初值False</p>
<p>使用的时候给bool指示灯赋初值True。</p>
<h2 id="快捷方式">快捷方式</h2>
<p><strong>框太小</strong>：鼠标变成十字，按住ctrl，往外拉，循环框等量外移</p>
<p>**面板切换：**ctrl+E</p>
<p>**两面平铺：**ctrl+T</p>
<p>**删除断线：**ctrl+B</p>
<p>整理程序框图：ctrl+U</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-宝藏软件"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/07/14/%E5%AE%9D%E8%97%8F%E8%BD%AF%E4%BB%B6/"
    >宝藏软件</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/07/14/%E5%AE%9D%E8%97%8F%E8%BD%AF%E4%BB%B6/" class="article-date">
  <time datetime="2023-07-14T03:40:23.000Z" itemprop="datePublished">2023-07-14</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/APP/">APP</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="XDisplay">XDisplay</h2>
<p>可以把IPad当作Windows电脑的副屏</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-数据处理与作图"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/04/15/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B8%8E%E4%BD%9C%E5%9B%BE/"
    >Python数据处理所需要的函数</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/04/15/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E4%B8%8E%E4%BD%9C%E5%9B%BE/" class="article-date">
  <time datetime="2023-04-15T11:48:31.000Z" itemprop="datePublished">2023-04-15</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Python/">Python</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1>Python数据处理所需要的函数</h1>
<h2 id="数据处理：pandas">数据处理：pandas</h2>
<p>读取Excel：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_excel()</span><br></pre></td></tr></tbody></table></figure>
<p>导出Excel：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_excel(<span class="string">'路径'</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>筛选表格中非空的行：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[(df[<span class="string">'Europe'</span>].notnull()) &amp; (df[<span class="string">'USA'</span>].notnull())]</span><br></pre></td></tr></tbody></table></figure>
<p>创建一个空数据框：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame({})</span><br></pre></td></tr></tbody></table></figure>
<p>去重</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'MakeVariant'</span>].drop_duplicates()</span><br></pre></td></tr></tbody></table></figure>
<p>重置索引</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.reset_index(drop=<span class="literal">True</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>列表重复</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] * <span class="number">3</span></span><br></pre></td></tr></tbody></table></figure>
<p>数据框合并</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df = pd.concat([df1, df2], axis=<span class="number">0</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>数据分组合并求均值</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.groupby(<span class="string">'列名'</span>).agg(<span class="string">'mean'</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>删除数据框某一列</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.drop(columns=<span class="string">'列名'</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>序列转列表</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'列名'</span>]。tolist()</span><br></pre></td></tr></tbody></table></figure>
<p>数据框索引</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 行列标签(行、列、区域）</span><br><span class="line">df[2:4]    df[['Fruits','Price']]     df[2:3,'Price':'Sales']</span><br><span class="line"></span><br><span class="line"># loc(标签)</span><br><span class="line">df.loc[:,['Fruits','Sales']]</span><br><span class="line"></span><br><span class="line"># iloc(位置)</span><br><span class="line">df.iloc[2:4,1:3]    df.iloc[:,[0,2]]</span><br></pre></td></tr></tbody></table></figure>
<p>深拷贝</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1 = df.loc['行名'].copy()</span><br></pre></td></tr></tbody></table></figure>
<p>数据框条件筛选</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">num[(left &gt; num) | (num &gt; right) | (num &lt; <span class="number">0</span>)]</span><br></pre></td></tr></tbody></table></figure>
<p>统计个数</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">count = pd.value_counts(all_index)</span><br></pre></td></tr></tbody></table></figure>
<p>重置列名</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.columns = [<span class="string">'F1'</span>, <span class="string">'F2'</span>, <span class="string">'F3'</span>]</span><br></pre></td></tr></tbody></table></figure>
<p>统计缺失值</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">col_null = df.isnull().<span class="built_in">sum</span>(axis=<span class="number">0</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>缺省值判断</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">temp[~temp.isna().<span class="built_in">any</span>(axis=<span class="number">1</span>)]</span><br></pre></td></tr></tbody></table></figure>
<h2 id="矩阵处理：numpy">矩阵处理：numpy</h2>
<p>取对数（e为底）：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.log()</span><br></pre></td></tr></tbody></table></figure>
<p>产生和已知数据维度相同的0矩阵：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.zeros_like(data)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="作图：matplotlib">作图：matplotlib</h2>
<p>多个图：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fig, axes = plt.subplots(<span class="number">3</span>, <span class="number">6</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>解决图片显示不全的问题：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fig.tight_layout(pad=<span class="number">0.3</span>, w_pad=-<span class="number">0.01</span>, h_pad=<span class="number">0.8</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>设置图片大小：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fig.set_size_inches(<span class="number">17</span>, <span class="number">9</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>调整子图之间的间距：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.gcf().subplots_adjust(left=<span class="number">0.05</span>,top=<span class="number">0.95</span>,bottom=<span class="number">0.04</span>,right=<span class="number">0.96</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>保存svg图片：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.savefig(<span class="string">'hist.svg'</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>直方图</p>
<p>纵轴为频率：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.hist(df, bins=<span class="number">50</span>, weights=np.zeros_like(data) + <span class="number">1</span> / <span class="built_in">len</span>(data))  <span class="comment"># 第一个参数是数据，第二个参数是箱子数量，第三个参数是权重</span></span><br></pre></td></tr></tbody></table></figure>
<p>图的标题：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.title(<span class="string">'内容'</span>, fontsize=<span class="number">20</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>设置全局字体：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.rc('font',family='Times New Roman', size=15)</span><br></pre></td></tr></tbody></table></figure>
<p>设置x轴刻度字体大小</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.xticks(fontsize=ticksize)</span><br></pre></td></tr></tbody></table></figure>
<p>显示中文</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>]=[<span class="string">'SimHei'</span>]   <span class="comment">#这两行用来显示汉字</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br></pre></td></tr></tbody></table></figure> 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-VScode安装教程"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/03/21/VScode%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/"
    >VScode安装教程</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/03/21/VScode%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/" class="article-date">
  <time datetime="2023-03-21T13:25:20.000Z" itemprop="datePublished">2023-03-21</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Echarts/">Echarts</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1>VScode安装教程</h1>
<h2 id="下载">下载</h2>
<p>下载网址：<a target="_blank" rel="noopener" href="https://code.visualstudio.com/Download">Download Visual Studio Code - Mac, Linux, Windows</a></p>
<p>按电脑系统选择下载，选择System Installer里的下载，因为User Installer无法选择安装目录，只能装C盘。（windows一般选择x64吧），点击Download下载。</p>
<p><img src="/2023/03/21/VScode%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/C:%5CUsers%5CDELL%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1679401878081.png" alt="1679401878081"></p>
<h2 id="安装">安装</h2>
<p>解压缩下载的压缩包，双击Code.exe文件。</p>
<p>在D盘（不是C盘即可）下新建文件夹，命名VScode，选择安装在这里。</p>
<p><img src="https://pic2.zhimg.com/v2-a761d01b3692c069cace577c0ae2be69_r.jpg" alt="img"></p>
<p><img src="https://pic2.zhimg.com/v2-0416349e4b50b4aa79d63571332f3755_r.jpg" alt="img"></p>
<p>选择附加任务：<br>
①将“通过code打开“操作添加到windows资源管理器文件上下文菜单<br>
②将"通过code打开”操作添加到windows:资源管理器目录上下文菜单<br>
说明：①②勾选上，可以对文件，目录点击鼠标右键，选择使用VScod打开。<br>
③将code注册为受支持的文件类型的编辑器<br>
说明：默认使用VScode打开诸如txt,py等文本类型的文件，一般建议不勾选。<br>
④添加到PATH（重启后生效）<br>
说明：这步聚默认的，勾选上，不用配置环境变量，可以直接使用。</p>
<p><img src="https://pic2.zhimg.com/80/v2-f687f6c6ff9973b459e79a3cf9ed8d1d_720w.webp" alt="img"></p>
<p><img src="https://pic1.zhimg.com/80/v2-ed2487899ab4431f75e338181533220c_720w.webp" alt="img"></p>
<h2 id="安装插件">安装插件</h2>
<p>点击左侧工具栏扩展按钮（四个方块）输入chinese，选择Chinese (Simplified) Language，点击install。如果没有变成中文，重新启动软件即可。</p>
<p>点击左侧工具栏扩展按钮（四个方块）输入open in，选择open in browser，点击install。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-Echarts-开始做图"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/03/15/Echarts-%E5%BC%80%E5%A7%8B%E5%81%9A%E5%9B%BE/"
    >Echarts-开始做图</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/03/15/Echarts-%E5%BC%80%E5%A7%8B%E5%81%9A%E5%9B%BE/" class="article-date">
  <time datetime="2023-03-15T11:48:31.000Z" itemprop="datePublished">2023-03-15</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Echarts/">Echarts</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1>Echarts</h1>
<img src="/2023/03/15/Echarts-%E5%BC%80%E5%A7%8B%E5%81%9A%E5%9B%BE/Echarts.png">
<p>本文将采用以下示例：</p>
<p>基本柱形图：<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/editor.html?c=bar-simple">Examples - Apache ECharts</a></p>
<p>坐标轴刻度与标签对齐：<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/editor.html?c=bar-tick-align">Examples - Apache ECharts</a></p>
<p>条形图：<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/editor.html?c=bar-y-category">Examples - Apache ECharts</a></p>
<p>南丁格尔玫瑰图：<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/editor.html?c=pie-roseType-simple">Examples - Apache ECharts</a></p>
<p>折线图：<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/editor.html?c=line-aqi">Examples - Apache ECharts</a></p>
<p>旭日图：<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/editor.html?c=sunburst-simple">Examples - Apache ECharts</a></p>
<p>桑吉图：<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/editor.html?c=sankey-simple">Examples - Apache ECharts</a></p>
<h2 id="选取模板">选取模板</h2>
<p>选取官方示例中的基础柱状图作为示例，链接如下：<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/editor.html?c=bar-simple">Examples - Apache ECharts</a></p>
<p>选择<code>完整代码</code>，除去第一行粘贴入框架中option部分。</p>
<h2 id="数据准备">数据准备</h2>
<table>
<thead>
<tr>
<th style="text-align:center">学院</th>
<th style="text-align:center">男</th>
<th style="text-align:center">女</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">物电</td>
<td style="text-align:center">140</td>
<td style="text-align:center">60</td>
</tr>
<tr>
<td style="text-align:center">数科</td>
<td style="text-align:center">80</td>
<td style="text-align:center">50</td>
</tr>
<tr>
<td style="text-align:center">经管</td>
<td style="text-align:center">100</td>
<td style="text-align:center">130</td>
</tr>
<tr>
<td style="text-align:center">环境</td>
<td style="text-align:center">90</td>
<td style="text-align:center">80</td>
</tr>
<tr>
<td style="text-align:center">生科</td>
<td style="text-align:center">80</td>
<td style="text-align:center">85</td>
</tr>
<tr>
<td style="text-align:center">音乐</td>
<td style="text-align:center">30</td>
<td style="text-align:center">50</td>
</tr>
<tr>
<td style="text-align:center">体育</td>
<td style="text-align:center">80</td>
<td style="text-align:center">40</td>
</tr>
<tr>
<td style="text-align:center">文学</td>
<td style="text-align:center">60</td>
<td style="text-align:center">40</td>
</tr>
<tr>
<td style="text-align:center">法学</td>
<td style="text-align:center">100</td>
<td style="text-align:center">120</td>
</tr>
</tbody>
</table>
<p>首先，把数据粘贴到Echarts官方给出的“表格工具”中，链接如下：<a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/spreadsheet.html">Spreadsheet Tool - Apache ECharts</a>。</p>
<p>删除第一行数据。</p>
<p>在右侧选项栏中可以对数据格式进行调整，调节数据格式与官方示例中的数据格式一致即可。</p>
<p>把数据粘贴到代码对应位置。</p>
<p>在浏览器中打开即可。</p>
<h2 id="坐标轴刻度与标签对齐">坐标轴刻度与标签对齐</h2>
<p>打开示例：<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/editor.html?c=bar-tick-align">Examples - Apache ECharts</a>。</p>
<p>找到对应代码：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">axisTick</span>: {</span><br><span class="line">        <span class="attr">alignWithLabel</span>: <span class="literal">true</span></span><br><span class="line">      }</span><br></pre></td></tr></tbody></table></figure>
<p>代码注释：</p>
<p>tooltip：设置提示框</p>
<h2 id="设置提示框">设置提示框</h2>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tooltip: {</span><br><span class="line">  trigger: 'axis'</span><br><span class="line">},</span><br></pre></td></tr></tbody></table></figure>
<h2 id="降序排列">降序排列</h2>
<p>打开示例：<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/editor.html?c=data-transform-sort-bar">Examples - Apache ECharts</a>。</p>
<p>由于数据格式改变，我们重新转换格式，方法同上，选择“每两列转换成一个二维数组”。</p>
<p>再加上上面的语句。</p>
<h2 id="条形图">条形图</h2>
<p>把xaxis和yaxis名字换一下就行。</p>
<h2 id="极坐标">极坐标</h2>
<p>打开示例：<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/editor.html?c=bar-polar-stack-radial">Examples - Apache ECharts</a>。</p>
<p>在表格工具中选择“每一列转换为一个一维数组”</p>
<p>直接修改data中的数据即可。</p>
<h2 id="南丁格尔玫瑰图">南丁格尔玫瑰图</h2>
<p>官方示例：<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/zh/editor.html?c=pie-roseType-simple">Examples - Apache ECharts</a></p>
<p>这里可以直接修改数据。</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">    { <span class="attr">value</span>: <span class="number">4400</span>, <span class="attr">name</span>: <span class="string">'亚洲'</span> , <span class="attr">itemStyle</span>: {<span class="attr">color</span>: <span class="string">'#DF2F2F'</span>}},</span><br><span class="line">    { <span class="attr">value</span>: <span class="number">3000</span>, <span class="attr">name</span>: <span class="string">'非洲'</span> , <span class="attr">itemStyle</span>: {<span class="attr">color</span>: <span class="string">'#DB6D23'</span>}},</span><br><span class="line">    { <span class="attr">value</span>: <span class="number">2400</span>, <span class="attr">name</span>: <span class="string">'北美洲'</span> , <span class="attr">itemStyle</span>: {<span class="attr">color</span>: <span class="string">'#F3A502'</span>}},</span><br><span class="line">    { <span class="attr">value</span>: <span class="number">1800</span>, <span class="attr">name</span>: <span class="string">'南美洲'</span> , <span class="attr">itemStyle</span>: {<span class="attr">color</span>: <span class="string">'#6AA006'</span>}},</span><br><span class="line">    { <span class="attr">value</span>: <span class="number">1400</span>, <span class="attr">name</span>: <span class="string">'南极洲'</span> , <span class="attr">itemStyle</span>: {<span class="attr">color</span>: <span class="string">'#14539A'</span>}},</span><br><span class="line">    { <span class="attr">value</span>: <span class="number">1000</span>, <span class="attr">name</span>: <span class="string">'欧洲'</span> , <span class="attr">itemStyle</span>: {<span class="attr">color</span>: <span class="string">'#87409C'</span>}},</span><br><span class="line">    { <span class="attr">value</span>: <span class="number">900</span>, <span class="attr">name</span>: <span class="string">'大洋洲'</span> , <span class="attr">itemStyle</span>: {<span class="attr">color</span>: <span class="string">'#7F3912'</span>}}</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure>
<p>修改颜色：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">data</span>: [</span><br><span class="line">        { <span class="attr">value</span>: <span class="number">40</span>, <span class="attr">name</span>: <span class="string">'rose 1'</span> , <span class="attr">itemStyle</span>: {<span class="attr">color</span>: <span class="string">'#516b91'</span>}}</span><br><span class="line">      ]</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>缺点：数据处理不太方便，除非掌握js语言，建议外部处理好数据后在这里画图比较方便。</p>
</blockquote>
<h2 id="气泡图">气泡图</h2>
<p>emphasis.focus：series（高亮当前序列），self（高亮当前值）</p>
<h2 id="旭日图">旭日图</h2>
<figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data = [{ <span class="string">'name'</span>: <span class="string">'化学化工学院'</span>, <span class="string">'children'</span>: [{ <span class="string">'name'</span>: <span class="string">'化学'</span>, <span class="string">'value'</span>: <span class="number">11</span> }, { <span class="string">'name'</span>: <span class="string">'应用化学'</span>, <span class="string">'value'</span>: <span class="number">7</span> }, { <span class="string">'name'</span>: <span class="string">'材料化学'</span>, <span class="string">'value'</span>: <span class="number">6</span> }, { <span class="string">'name'</span>: <span class="string">'化学类'</span>, <span class="string">'value'</span>: <span class="number">2</span> }] }, { <span class="string">'name'</span>: <span class="string">'物理电子工程学院'</span>, <span class="string">'children'</span>: [{ <span class="string">'name'</span>: <span class="string">'电子信息科学与技术'</span>, <span class="string">'value'</span>: <span class="number">8</span> }, { <span class="string">'name'</span>: <span class="string">'物理学(国家基地)'</span>, <span class="string">'value'</span>: <span class="number">5</span> }, { <span class="string">'name'</span>: <span class="string">'光电信息科学与工程'</span>, <span class="string">'value'</span>: <span class="number">4</span> }] }, { <span class="string">'name'</span>: <span class="string">'初民学院'</span>, <span class="string">'children'</span>: [{ <span class="string">'name'</span>: <span class="string">'大数据金融试验班'</span>, <span class="string">'value'</span>: <span class="number">2</span> }, { <span class="string">'name'</span>: <span class="string">'生化试验班'</span>, <span class="string">'value'</span>: <span class="number">2</span> }, { <span class="string">'name'</span>: <span class="string">'金融学'</span>, <span class="string">'value'</span>: <span class="number">1</span> }, { <span class="string">'name'</span>: <span class="string">'生物科学'</span>, <span class="string">'value'</span>: <span class="number">1</span> }] }, { <span class="string">'name'</span>: <span class="string">'数学科学学院'</span>, <span class="string">'children'</span>: [{ <span class="string">'name'</span>: <span class="string">'数学类'</span>, <span class="string">'value'</span>: <span class="number">5</span> }, { <span class="string">'name'</span>: <span class="string">'数学与应用数学'</span>, <span class="string">'value'</span>: <span class="number">1</span> }] }, { <span class="string">'name'</span>: <span class="string">'音乐学院'</span>, <span class="string">'children'</span>: [{ <span class="string">'name'</span>: <span class="string">'舞蹈编导'</span>, <span class="string">'value'</span>: <span class="number">4</span> }, { <span class="string">'name'</span>: <span class="string">'音乐表演'</span>, <span class="string">'value'</span>: <span class="number">1</span> }] }, { <span class="string">'name'</span>: <span class="string">'计算机与信息技术学院'</span>, <span class="string">'children'</span>: [{ <span class="string">'name'</span>: <span class="string">'数据科学与大数据技术'</span>, <span class="string">'value'</span>: <span class="number">3</span> }] }, { <span class="string">'name'</span>: <span class="string">'生命科学学院'</span>, <span class="string">'children'</span>: [{ <span class="string">'name'</span>: <span class="string">'生物科学类'</span>, <span class="string">'value'</span>: <span class="number">2</span> }] }, { <span class="string">'name'</span>: <span class="string">'体育学院'</span>, <span class="string">'children'</span>: [{ <span class="string">'name'</span>: <span class="string">'运动训练'</span>, <span class="string">'value'</span>: <span class="number">2</span> }] }, { <span class="string">'name'</span>: <span class="string">'历史文化学院'</span>, <span class="string">'children'</span>: [{ <span class="string">'name'</span>: <span class="string">'考古学'</span>, <span class="string">'value'</span>: <span class="number">1</span> }] }, { <span class="string">'name'</span>: <span class="string">'美术学院'</span>, <span class="string">'children'</span>: [{ <span class="string">'name'</span>: <span class="string">'环境设计'</span>, <span class="string">'value'</span>: <span class="number">1</span> }] }, { <span class="string">'name'</span>: <span class="string">'文学院'</span>, <span class="string">'children'</span>: [{ <span class="string">'name'</span>: <span class="string">'汉语言文学'</span>, <span class="string">'value'</span>: <span class="number">1</span> }] }, { <span class="string">'name'</span>: <span class="string">'哲学社会学学院'</span>, <span class="string">'children'</span>: [{ <span class="string">'name'</span>: <span class="string">'哲学类'</span>, <span class="string">'value'</span>: <span class="number">1</span> }] }]</span><br><span class="line"></span><br><span class="line">option = {</span><br><span class="line">    <span class="attr">title</span>: {</span><br><span class="line">        <span class="attr">text</span>: <span class="string">'山西大学学院专业分布图'</span>,</span><br><span class="line">        <span class="attr">subtext</span>: <span class="string">'来源：山西大学'</span>,</span><br><span class="line">    },</span><br><span class="line">    <span class="attr">tooltip</span>: {},</span><br><span class="line">    <span class="attr">series</span>: {</span><br><span class="line">        <span class="attr">type</span>: <span class="string">'sunburst'</span>,</span><br><span class="line">        <span class="attr">data</span>: data,</span><br><span class="line">        <span class="attr">radius</span>: [<span class="number">0</span>, <span class="string">'95%'</span>],</span><br><span class="line">        <span class="attr">sort</span>: <span class="string">'desc'</span>,</span><br><span class="line">        <span class="attr">emphasis</span>: {</span><br><span class="line">            <span class="attr">focus</span>: <span class="string">'descendant'</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">levels</span>: [</span><br><span class="line">            {},</span><br><span class="line">            {</span><br><span class="line">                <span class="attr">r0</span>: <span class="string">'15%'</span>,</span><br><span class="line">                <span class="attr">r</span>: <span class="string">'50%'</span>,</span><br><span class="line">                <span class="attr">itemStyle</span>: {</span><br><span class="line">                    <span class="attr">borderWidth</span>: <span class="number">2</span></span><br><span class="line">                },</span><br><span class="line">                <span class="attr">label</span>: {</span><br><span class="line">                    <span class="attr">fontSize</span>: <span class="number">10</span>,</span><br><span class="line">                    <span class="attr">rotate</span>: <span class="string">'radial'</span></span><br><span class="line">                }</span><br><span class="line">            },</span><br><span class="line">            {</span><br><span class="line">                <span class="attr">r0</span>: <span class="string">'50%'</span>,</span><br><span class="line">                <span class="attr">r</span>: <span class="string">'95%'</span>,</span><br><span class="line">                <span class="attr">label</span>: {</span><br><span class="line">                    <span class="attr">align</span>: <span class="string">'right'</span></span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        ]</span><br><span class="line">    }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
<h2 id="桑吉图">桑吉图</h2>
<figure class="highlight typescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> nodes = [</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'建筑电气与智能化'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#FFFFD9'</span> } },</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'能源与动力工程'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#F4FBC2'</span> } },</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'环境科学与工程类'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#D1EDB3'</span> } },</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'建筑环境与能源应用工程'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#E7F5B1'</span> } },</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'机械电子工程'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#D1EDB3'</span> } },</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'生物科学类'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#89D1BA'</span> } },</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'工商管理类'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#41B6C4'</span> } },</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'化学类'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#64C3BE'</span> } },</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'电气工程及其自动化'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#2CA0C1'</span> }, <span class="string">'label'</span>: { <span class="string">'color'</span>: <span class="string">'white'</span> } },</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'计算机科学与技术'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#206CAE'</span> }, <span class="string">'label'</span>: { <span class="string">'color'</span>: <span class="string">'white'</span> } },</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'电子信息工程'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#1D89BC'</span> }, <span class="string">'label'</span>: { <span class="string">'color'</span>: <span class="string">'white'</span> } },</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'数据科学与大数据技术'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#2252A2'</span> }, <span class="string">'label'</span>: { <span class="string">'color'</span>: <span class="string">'white'</span> } },</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'经济学类'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#243A96'</span> }, <span class="string">'label'</span>: { <span class="string">'color'</span>: <span class="string">'white'</span> } },</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'成绩优秀'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#182A7A'</span> }, <span class="string">'label'</span>: { <span class="string">'color'</span>: <span class="string">'white'</span> } },</span><br><span class="line">    { <span class="string">'name'</span>: <span class="string">'其他情况'</span>, <span class="string">'itemStyle'</span>: { <span class="string">'color'</span>: <span class="string">'#081D58'</span> }, <span class="string">'label'</span>: { <span class="string">'color'</span>: <span class="string">'white'</span> } },</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> links = [</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'生物科学类'</span>, <span class="string">'target'</span>: <span class="string">'计算机科学与技术'</span>, <span class="string">'value'</span>: <span class="number">5</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'能源与动力工程'</span>, <span class="string">'target'</span>: <span class="string">'电子信息工程'</span>, <span class="string">'value'</span>: <span class="number">3</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'能源与动力工程'</span>, <span class="string">'target'</span>: <span class="string">'电气工程及其自动化'</span>, <span class="string">'value'</span>: <span class="number">6</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'建筑环境与能源应用工程'</span>, <span class="string">'target'</span>: <span class="string">'电子信息工程'</span>, <span class="string">'value'</span>: <span class="number">3</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'建筑环境与能源应用工程'</span>, <span class="string">'target'</span>: <span class="string">'电气工程及其自动化'</span>, <span class="string">'value'</span>: <span class="number">3</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'建筑电气与智能化'</span>, <span class="string">'target'</span>: <span class="string">'电气工程及其自动化'</span>, <span class="string">'value'</span>: <span class="number">24</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'机械电子工程'</span>, <span class="string">'target'</span>: <span class="string">'电气工程及其自动化'</span>, <span class="string">'value'</span>: <span class="number">5</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'环境科学与工程类'</span>, <span class="string">'target'</span>: <span class="string">'数据科学与大数据技术'</span>, <span class="string">'value'</span>: <span class="number">3</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'环境科学与工程类'</span>, <span class="string">'target'</span>: <span class="string">'计算机科学与技术'</span>, <span class="string">'value'</span>: <span class="number">2</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'化学类'</span>, <span class="string">'target'</span>: <span class="string">'计算机科学与技术'</span>, <span class="string">'value'</span>: <span class="number">3</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'工商管理类'</span>, <span class="string">'target'</span>: <span class="string">'经济学类'</span>, <span class="string">'value'</span>: <span class="number">3</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'计算机科学与技术'</span>, <span class="string">'target'</span>: <span class="string">'成绩优秀'</span>, <span class="string">'value'</span>: <span class="number">10</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'电子信息工程'</span>, <span class="string">'target'</span>: <span class="string">'成绩优秀'</span>, <span class="string">'value'</span>: <span class="number">6</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'电气工程及其自动化'</span>, <span class="string">'target'</span>: <span class="string">'成绩优秀'</span>, <span class="string">'value'</span>: <span class="number">34</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'电气工程及其自动化'</span>, <span class="string">'target'</span>: <span class="string">'其他情况'</span>, <span class="string">'value'</span>: <span class="number">4</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'数据科学与大数据技术'</span>, <span class="string">'target'</span>: <span class="string">'成绩优秀'</span>, <span class="string">'value'</span>: <span class="number">3</span> },</span><br><span class="line">    { <span class="string">'source'</span>: <span class="string">'经济学类'</span>, <span class="string">'target'</span>: <span class="string">'成绩优秀'</span>, <span class="string">'value'</span>: <span class="number">3</span> }</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">option = {</span><br><span class="line">    <span class="attr">title</span>: {</span><br><span class="line">        <span class="attr">text</span>: <span class="string">'山西大学转专业示意图'</span></span><br><span class="line">    },</span><br><span class="line">    <span class="attr">tooltip</span>: {</span><br><span class="line">        <span class="attr">trigger</span>: <span class="string">'item'</span>,</span><br><span class="line">        <span class="attr">triggerOn</span>: <span class="string">'mousemove'</span></span><br><span class="line">    },</span><br><span class="line">    <span class="attr">series</span>: [</span><br><span class="line">        {</span><br><span class="line">            <span class="attr">type</span>: <span class="string">'sankey'</span>,</span><br><span class="line">            <span class="attr">data</span>: nodes,</span><br><span class="line">            <span class="attr">links</span>: links,</span><br><span class="line">            <span class="attr">emphasis</span>: {</span><br><span class="line">                <span class="attr">focus</span>: <span class="string">'adjacency'</span></span><br><span class="line">            },</span><br><span class="line">            <span class="attr">nodeWidth</span>: <span class="number">145</span>,</span><br><span class="line">            <span class="attr">nodeGap</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">top</span>: <span class="string">'8%'</span>,</span><br><span class="line">            <span class="attr">right</span>: <span class="string">'5%'</span>,</span><br><span class="line">            <span class="attr">label</span>: {</span><br><span class="line">                <span class="attr">position</span>: <span class="string">'inside'</span></span><br><span class="line">            },</span><br><span class="line">            <span class="attr">levels</span>: [</span><br><span class="line">                {</span><br><span class="line">                    <span class="attr">depth</span>: <span class="number">0</span>,</span><br><span class="line">                    <span class="attr">lineStyle</span>: {</span><br><span class="line">                        <span class="attr">color</span>: <span class="string">'source'</span>,</span><br><span class="line">                        <span class="attr">opacity</span>: <span class="number">0.6</span></span><br><span class="line">                    }</span><br><span class="line">                },</span><br><span class="line">                {</span><br><span class="line">                    <span class="attr">depth</span>: <span class="number">1</span>,</span><br><span class="line">                    <span class="attr">lineStyle</span>: {</span><br><span class="line">                        <span class="attr">color</span>: <span class="string">'source'</span>,</span><br><span class="line">                        <span class="attr">opacity</span>: <span class="number">0.6</span></span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            ],</span><br><span class="line">            <span class="attr">lineStyle</span>: {</span><br><span class="line">                <span class="attr">curveness</span>: <span class="number">0.5</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    ]</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="北京AQI">北京AQI</h2>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">xAxis</span>: {</span><br><span class="line">        <span class="attr">data</span>: data.<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">item</span>) {</span><br><span class="line">          <span class="keyword">return</span> item[<span class="number">0</span>];</span><br><span class="line">        })</span><br><span class="line">      }</span><br></pre></td></tr></tbody></table></figure>
<p>该代码使用了JavaScript数组的<code>map</code>方法，该方法遍历数组中的每个元素（选择data中的第一个元素）并执行操作（此处是返回第一个值）。传入的参数是一个函数。</p>
<ul>
<li>找到数据网站：<a target="_blank" rel="noopener" href="https://echarts.apache.org/examples/data/asset/data/aqi-beijing.json">https://echarts.apache.org/examples/data/asset/data/aqi-beijing.json</a></li>
<li>在线格式化json： <a target="_blank" rel="noopener" href="https://www.bejson.com/">在线JSON校验格式化工具（Be JSON）</a></li>
<li>可以看到第一列是年份</li>
</ul>
<p><img src="/2023/03/15/Echarts-%E5%BC%80%E5%A7%8B%E5%81%9A%E5%9B%BE/C:%5CUsers%5CDELL%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1680013342536.png" alt="1680013342536"></p>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ECharts<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引入刚刚下载的 ECharts 文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"echarts.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 为 ECharts 准备一个定义了宽高的 DOM --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 800px;height:600px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> chartDom = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'main'</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(chartDom);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> option;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        option = {</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">title</span>: {</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">text</span>: <span class="string">'Beijing AQI'</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>: <span class="string">'1%'</span></span></span><br><span class="line"><span class="language-javascript">            },</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">tooltip</span>: {</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">trigger</span>: <span class="string">'axis'</span></span></span><br><span class="line"><span class="language-javascript">            },</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">grid</span>: {</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">left</span>: <span class="string">'5%'</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">right</span>: <span class="string">'15%'</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">bottom</span>: <span class="string">'10%'</span></span></span><br><span class="line"><span class="language-javascript">            },</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">xAxis</span>: {</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="string">'2020/1/1'</span>, <span class="string">'2020/1/2'</span>, <span class="string">'2020/1/3'</span>]</span></span><br><span class="line"><span class="language-javascript">            },</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">yAxis</span>: {},</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">toolbox</span>: {</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">right</span>: <span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">feature</span>: {</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">dataZoom</span>: {</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">yAxisIndex</span>: <span class="string">'none'</span></span></span><br><span class="line"><span class="language-javascript">                    },</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">restore</span>: {},</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">saveAsImage</span>: {}</span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            },</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">dataZoom</span>: [</span></span><br><span class="line"><span class="language-javascript">                {</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">startValue</span>: <span class="string">'2014-06-01'</span></span></span><br><span class="line"><span class="language-javascript">                },</span></span><br><span class="line"><span class="language-javascript">                {</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">type</span>: <span class="string">'inside'</span></span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            ],</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">visualMap</span>: {</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">top</span>: <span class="number">50</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">right</span>: <span class="number">10</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">pieces</span>: [</span></span><br><span class="line"><span class="language-javascript">                    {</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">gt</span>: <span class="number">0</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">lte</span>: <span class="number">50</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>: <span class="string">'#93CE07'</span></span></span><br><span class="line"><span class="language-javascript">                    },</span></span><br><span class="line"><span class="language-javascript">                    {</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">gt</span>: <span class="number">50</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">lte</span>: <span class="number">100</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>: <span class="string">'#FBDB0F'</span></span></span><br><span class="line"><span class="language-javascript">                    },</span></span><br><span class="line"><span class="language-javascript">                    {</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">gt</span>: <span class="number">100</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">lte</span>: <span class="number">150</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>: <span class="string">'#FC7D02'</span></span></span><br><span class="line"><span class="language-javascript">                    },</span></span><br><span class="line"><span class="language-javascript">                    {</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">gt</span>: <span class="number">150</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">lte</span>: <span class="number">200</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>: <span class="string">'#FD0100'</span></span></span><br><span class="line"><span class="language-javascript">                    },</span></span><br><span class="line"><span class="language-javascript">                    {</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">gt</span>: <span class="number">200</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">lte</span>: <span class="number">300</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>: <span class="string">'#AA069F'</span></span></span><br><span class="line"><span class="language-javascript">                    },</span></span><br><span class="line"><span class="language-javascript">                    {</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">gt</span>: <span class="number">300</span>,</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>: <span class="string">'#AC3B2A'</span></span></span><br><span class="line"><span class="language-javascript">                    }</span></span><br><span class="line"><span class="language-javascript">                ],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">outOfRange</span>: {</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">color</span>: <span class="string">'#999'</span></span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            },</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">series</span>: {</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">name</span>: <span class="string">'Beijing AQI'</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">type</span>: <span class="string">'line'</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">data</span>: [<span class="number">110</span>, <span class="number">158</span>, <span class="number">216</span>],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">markLine</span>: {</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">silent</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">lineStyle</span>: {</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>: <span class="string">'#333'</span></span></span><br><span class="line"><span class="language-javascript">                    },</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">data</span>: [</span></span><br><span class="line"><span class="language-javascript">                        {</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">yAxis</span>: <span class="number">50</span></span></span><br><span class="line"><span class="language-javascript">                        },</span></span><br><span class="line"><span class="language-javascript">                        {</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">yAxis</span>: <span class="number">100</span></span></span><br><span class="line"><span class="language-javascript">                        },</span></span><br><span class="line"><span class="language-javascript">                        {</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">yAxis</span>: <span class="number">150</span></span></span><br><span class="line"><span class="language-javascript">                        },</span></span><br><span class="line"><span class="language-javascript">                        {</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">yAxis</span>: <span class="number">200</span></span></span><br><span class="line"><span class="language-javascript">                        },</span></span><br><span class="line"><span class="language-javascript">                        {</span></span><br><span class="line"><span class="language-javascript">                            <span class="attr">yAxis</span>: <span class="number">250</span></span></span><br><span class="line"><span class="language-javascript">                        }</span></span><br><span class="line"><span class="language-javascript">                    ]</span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// markLine: {</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//     data: [</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//         [</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//             { coord: [2, 100] },</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//             { coord: [3, 200] }</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//         ],</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//         [</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//             {},</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//             {}</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//         ]</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">//     ]</span></span></span><br><span class="line"><span class="language-javascript">                    <span class="comment">// }</span></span></span><br><span class="line"><span class="language-javascript">                }</span></span><br><span class="line"><span class="language-javascript">            }</span></span><br><span class="line"><span class="language-javascript">        }</span></span><br><span class="line"><span class="language-javascript">        option &amp;&amp; myChart.<span class="title function_">setOption</span>(option);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-Echarts-准备工作"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/03/10/Echarts-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/"
    >Echarts-准备工作</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/03/10/Echarts-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C/" class="article-date">
  <time datetime="2023-03-10T11:48:31.000Z" itemprop="datePublished">2023-03-10</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Echarts/">Echarts</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="下载echarts">下载echarts</h2>
<ol>
<li>下载echarts.js文件。</li>
<li>新建文件夹，导入<code>echarts.js</code>文件，新建<code>index.html</code>文件。</li>
</ol>
<h2 id="Echarts框架">Echarts框架</h2>
<figure class="highlight html"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ECharts<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 引入刚刚下载的 ECharts 文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"echarts.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 为 ECharts 准备一个定义了宽高的 DOM --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"main"</span> <span class="attr">style</span>=<span class="string">"width: 600px;height:400px;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 基于准备好的dom，初始化echarts实例</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> myChart = echarts.<span class="title function_">init</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'main'</span>));</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 指定图表的配置项和数据</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> option = {};</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 使用刚指定的配置项和数据显示图表。</span></span></span><br><span class="line"><span class="language-javascript">      myChart.<span class="title function_">setOption</span>(option);</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="主题工具">主题工具</h2>
<ol>
<li>
<p>使用默认主题：<a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/download-theme.html">主题下载 - Apache ECharts</a>。</p>
<blockquote>
<p>注意：使用时先引入主题，再在echarts.init(dom, ‘主题名字’)</p>
</blockquote>
</li>
<li>
<p>自定义主题：<a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/theme-builder.html">主题编辑器 - Apache ECharts</a>。</p>
<blockquote>
<p>设置好后，点击下载。使用时先引入主题，再在echarts.init(dom, ‘主题名字’)</p>
</blockquote>
</li>
</ol>
<h2 id="方案一：简单粗暴">方案一：简单粗暴</h2>
<ol>
<li>处理数据。把excel数据在<a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/spreadsheet.html">Spreadsheet Tool - Apache ECharts</a>网站处理得到所需格式的数据。（缺点：数据必须完美，得在别的软件处理好）</li>
<li>下载图片。（仅png）</li>
</ol>
<h2 id="方案二：摘代码块">方案二：摘代码块</h2>
<p>最好还是外面处理好数据吧</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-Pyecharts-桑基图"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/19/Pyecharts-%E6%A1%91%E5%9F%BA%E5%9B%BE/"
    >Pyecharts-桑基图</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/11/19/Pyecharts-%E6%A1%91%E5%9F%BA%E5%9B%BE/" class="article-date">
  <time datetime="2022-11-19T06:48:23.000Z" itemprop="datePublished">2022-11-19</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Pyecharts/">Pyecharts</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1>桑基图</h1>
<img src="/2022/11/19/Pyecharts-%E6%A1%91%E5%9F%BA%E5%9B%BE/桑基图.png" style="zoom:80%;">
<h2 id="导入需要的包">导入需要的包</h2>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Sankey</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">import</span> os</span><br></pre></td></tr></tbody></table></figure>
<h2 id="导入数据">导入数据</h2>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df: pd.DataFrame = pd.read_excel(<span class="string">r'山西大学2021年本科生转专业情况.xlsx'</span>)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="节点处理">节点处理</h2>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">nodes = <span class="built_in">list</span>(<span class="built_in">set</span>(df[<span class="string">'转出专业'</span>].tolist() + df[<span class="string">'转入专业'</span>].tolist() + df[<span class="string">'类型'</span>].tolist()))</span><br><span class="line">node_list = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nodes)):</span><br><span class="line">    <span class="built_in">dict</span> = {<span class="string">'name'</span>: nodes[i]}</span><br><span class="line">    node_list.append(<span class="built_in">dict</span>)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="连线数据处理">连线数据处理</h2>
<h3 id="第一层">第一层</h3>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df1: pd.DataFrame = df[[<span class="string">'转出专业'</span>, <span class="string">'转入专业'</span>]]</span><br><span class="line">df1[<span class="string">'次数'</span>] = <span class="string">''</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(df1)):</span><br><span class="line">    df1.loc[i, <span class="string">'次数'</span>] = df1[(df1[<span class="string">'转出专业'</span>] == df1.loc[i, <span class="string">'转出专业'</span>]) &amp; (df1[<span class="string">'转入专业'</span>] == df1.loc[i, <span class="string">'转入专业'</span>])].shape[<span class="number">0</span>]</span><br><span class="line">df1 = df1.drop_duplicates()</span><br><span class="line">df1.columns = [<span class="string">'source'</span>, <span class="string">'target'</span>, <span class="string">'value'</span>]</span><br></pre></td></tr></tbody></table></figure>
<h3 id="第二层">第二层</h3>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df2: pd.DataFrame = df[[<span class="string">'转入专业'</span>, <span class="string">'类型'</span>]]</span><br><span class="line">df2[<span class="string">'次数'</span>] = <span class="string">''</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(df2)):</span><br><span class="line">    df2.loc[i, <span class="string">'次数'</span>] = df2[(df2[<span class="string">'转入专业'</span>] == df2.loc[i, <span class="string">'转入专业'</span>]) &amp; (df2[<span class="string">'类型'</span>] == df2.loc[i, <span class="string">'类型'</span>])].shape[<span class="number">0</span>]</span><br><span class="line">df2 = df2.drop_duplicates()</span><br><span class="line">df2.columns = [<span class="string">'source'</span>, <span class="string">'target'</span>, <span class="string">'value'</span>]</span><br></pre></td></tr></tbody></table></figure>
<h3 id="拼接两个数据">拼接两个数据</h3>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">link_df = pd.concat([df1, df2])</span><br><span class="line"></span><br><span class="line">link_list = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(link_df)):</span><br><span class="line">    <span class="built_in">dict</span> = {<span class="string">'source'</span>: link_df.iloc[i, <span class="number">0</span>],</span><br><span class="line">            <span class="string">'target'</span>: link_df.iloc[i, <span class="number">1</span>],</span><br><span class="line">            <span class="string">'value'</span>: <span class="built_in">int</span>(link_df.iloc[i, <span class="number">2</span>])}</span><br><span class="line">    link_list.append(<span class="built_in">dict</span>)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="作图">作图</h2>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">sankey = (Sankey(init_opts=opts.InitOpts(bg_color=<span class="string">'white'</span>))</span><br><span class="line">          .add(<span class="string">""</span>,</span><br><span class="line">               nodes=node_list,</span><br><span class="line">               links=link_list,</span><br><span class="line">               pos_left=<span class="string">"7%"</span>,</span><br><span class="line">               node_width=<span class="number">135</span>,</span><br><span class="line">               node_gap=<span class="number">0</span>,</span><br><span class="line">               layout_iterations=<span class="number">1000</span>,</span><br><span class="line">               is_draggable=<span class="literal">False</span>,</span><br><span class="line">               focus_node_adjacency=<span class="literal">True</span>,</span><br><span class="line">               linestyle_opt=opts.LineStyleOpts(opacity=<span class="number">0.7</span>, curve=<span class="number">0.5</span>, color=<span class="string">"source"</span>),</span><br><span class="line">               label_opts=opts.LabelOpts(font_size=<span class="number">12</span>, position=<span class="string">'inside'</span>)</span><br><span class="line">               )</span><br><span class="line">          .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">"转专业-桑基图"</span>))</span><br><span class="line">          )</span><br><span class="line"></span><br><span class="line">sankey.render(<span class="string">"sankey.html"</span>)</span><br><span class="line">os.system(<span class="string">"sankey.html"</span>)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="修改颜色">修改颜色</h2>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">node_list = [</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'建筑电气与智能化'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#FFFFD9'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'能源与动力工程'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#F4FBC2'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'环境科学与工程类'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#D1EDB3'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'建筑环境与能源应用工程'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#E7F5B1'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'机械电子工程'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#D1EDB3'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'生物科学类'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#89D1BA'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'工商管理类'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#41B6C4'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'化学类'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#64C3BE'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'电气工程及其自动化'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#2CA0C1'</span>}, <span class="string">'label'</span>: {<span class="string">'color'</span>: <span class="string">'white'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'计算机科学与技术'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#206CAE'</span>}, <span class="string">'label'</span>: {<span class="string">'color'</span>: <span class="string">'white'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'电子信息工程'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#1D89BC'</span>}, <span class="string">'label'</span>: {<span class="string">'color'</span>: <span class="string">'white'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'数据科学与大数据技术'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#2252A2'</span>}, <span class="string">'label'</span>: {<span class="string">'color'</span>: <span class="string">'white'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'经济学类'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#243A96'</span>}, <span class="string">'label'</span>: {<span class="string">'color'</span>: <span class="string">'white'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'成绩优秀'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#182A7A'</span>}, <span class="string">'label'</span>: {<span class="string">'color'</span>: <span class="string">'white'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'其他情况'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#081D58'</span>}, <span class="string">'label'</span>: {<span class="string">'color'</span>: <span class="string">'white'</span>}},</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure>
<h2 id="完整代码">完整代码</h2>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> Sankey</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">df: pd.DataFrame = pd.read_excel(<span class="string">r'山西大学2021年本科生转专业情况.xlsx'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># -------------------------------处理节点--------------------------------------</span></span><br><span class="line">nodes = <span class="built_in">list</span>(<span class="built_in">set</span>(df[<span class="string">'转出专业'</span>].tolist() + df[<span class="string">'转入专业'</span>].tolist() + df[<span class="string">'类型'</span>].tolist()))</span><br><span class="line">node_list = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nodes)):</span><br><span class="line">    <span class="built_in">dict</span> = {<span class="string">'name'</span>: nodes[i]}</span><br><span class="line">    node_list.append(<span class="built_in">dict</span>)</span><br><span class="line"><span class="comment"># print(node_list)</span></span><br><span class="line"></span><br><span class="line">node_list = [</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'建筑电气与智能化'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#FFFFD9'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'能源与动力工程'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#F4FBC2'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'环境科学与工程类'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#D1EDB3'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'建筑环境与能源应用工程'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#E7F5B1'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'机械电子工程'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#D1EDB3'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'生物科学类'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#89D1BA'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'工商管理类'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#41B6C4'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'化学类'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#64C3BE'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'电气工程及其自动化'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#2CA0C1'</span>}, <span class="string">'label'</span>: {<span class="string">'color'</span>: <span class="string">'white'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'计算机科学与技术'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#206CAE'</span>}, <span class="string">'label'</span>: {<span class="string">'color'</span>: <span class="string">'white'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'电子信息工程'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#1D89BC'</span>}, <span class="string">'label'</span>: {<span class="string">'color'</span>: <span class="string">'white'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'数据科学与大数据技术'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#2252A2'</span>}, <span class="string">'label'</span>: {<span class="string">'color'</span>: <span class="string">'white'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'经济学类'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#243A96'</span>}, <span class="string">'label'</span>: {<span class="string">'color'</span>: <span class="string">'white'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'成绩优秀'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#182A7A'</span>}, <span class="string">'label'</span>: {<span class="string">'color'</span>: <span class="string">'white'</span>}},</span><br><span class="line">    {<span class="string">'name'</span>: <span class="string">'其他情况'</span>, <span class="string">'itemStyle'</span>: {<span class="string">'color'</span>: <span class="string">'#081D58'</span>}, <span class="string">'label'</span>: {<span class="string">'color'</span>: <span class="string">'white'</span>}},</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># -------------------------------处理连线--------------------------------------</span></span><br><span class="line">df1: pd.DataFrame = df[[<span class="string">'转出专业'</span>, <span class="string">'转入专业'</span>]]</span><br><span class="line">df1[<span class="string">'次数'</span>] = <span class="string">''</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(df1)):</span><br><span class="line">    df1.loc[i, <span class="string">'次数'</span>] = df1[(df1[<span class="string">'转出专业'</span>] == df1.loc[i, <span class="string">'转出专业'</span>]) &amp; (df1[<span class="string">'转入专业'</span>] == df1.loc[i, <span class="string">'转入专业'</span>])].shape[<span class="number">0</span>]</span><br><span class="line">df1 = df1.drop_duplicates()</span><br><span class="line">df1.columns = [<span class="string">'source'</span>, <span class="string">'target'</span>, <span class="string">'value'</span>]</span><br><span class="line"><span class="comment"># print(df1)</span></span><br><span class="line"></span><br><span class="line">df2: pd.DataFrame = df[[<span class="string">'转入专业'</span>, <span class="string">'类型'</span>]]</span><br><span class="line">df2[<span class="string">'次数'</span>] = <span class="string">''</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(df2)):</span><br><span class="line">    df2.loc[i, <span class="string">'次数'</span>] = df2[(df2[<span class="string">'转入专业'</span>] == df2.loc[i, <span class="string">'转入专业'</span>]) &amp; (df2[<span class="string">'类型'</span>] == df2.loc[i, <span class="string">'类型'</span>])].shape[<span class="number">0</span>]</span><br><span class="line">df2 = df2.drop_duplicates()</span><br><span class="line">df2.columns = [<span class="string">'source'</span>, <span class="string">'target'</span>, <span class="string">'value'</span>]</span><br><span class="line"></span><br><span class="line">link_df = pd.concat([df1, df2])</span><br><span class="line"></span><br><span class="line">link_list = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(link_df)):</span><br><span class="line">    <span class="built_in">dict</span> = {<span class="string">'source'</span>: link_df.iloc[i, <span class="number">0</span>],</span><br><span class="line">            <span class="string">'target'</span>: link_df.iloc[i, <span class="number">1</span>],</span><br><span class="line">            <span class="string">'value'</span>: <span class="built_in">int</span>(link_df.iloc[i, <span class="number">2</span>])}</span><br><span class="line">    link_list.append(<span class="built_in">dict</span>)</span><br><span class="line"><span class="comment"># print(link_list)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -------------------------------画图--------------------------------------</span></span><br><span class="line">sankey = (Sankey(init_opts=opts.InitOpts(bg_color=<span class="string">'white'</span>))</span><br><span class="line">          .add(<span class="string">""</span>,</span><br><span class="line">               nodes=node_list,</span><br><span class="line">               links=link_list,</span><br><span class="line">               pos_left=<span class="string">"7%"</span>,</span><br><span class="line">               node_width=<span class="number">135</span>,</span><br><span class="line">               node_gap=<span class="number">0</span>,</span><br><span class="line">               layout_iterations=<span class="number">1000</span>,</span><br><span class="line">               is_draggable=<span class="literal">False</span>,</span><br><span class="line">               focus_node_adjacency=<span class="literal">True</span>,</span><br><span class="line">               linestyle_opt=opts.LineStyleOpts(opacity=<span class="number">0.7</span>, curve=<span class="number">0.5</span>, color=<span class="string">"source"</span>),</span><br><span class="line">               label_opts=opts.LabelOpts(font_size=<span class="number">12</span>, position=<span class="string">'inside'</span>)</span><br><span class="line">               )</span><br><span class="line">          .set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">"转专业-桑基图"</span>))</span><br><span class="line">          )</span><br><span class="line"></span><br><span class="line">sankey.render(<span class="string">"sankey.html"</span>)</span><br><span class="line">os.system(<span class="string">"sankey.html"</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>大功告成！</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-量子随机数生成器"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/07/%E9%87%8F%E5%AD%90%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%94%9F%E6%88%90%E5%99%A8/"
    >量子随机数生成器</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/11/07/%E9%87%8F%E5%AD%90%E9%9A%8F%E6%9C%BA%E6%95%B0%E7%94%9F%E6%88%90%E5%99%A8/" class="article-date">
  <time datetime="2022-11-07T04:05:31.000Z" itemprop="datePublished">2022-11-07</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E9%87%8F%E5%AD%90%E9%9A%8F%E6%9C%BA%E6%95%B0/">量子随机数</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h2 id="后处理">后处理</h2>
<p>**背景：**由于器件的缺陷（噪声、精度等），可能对实际系统产生的随机数的随机性有影响。</p>
<p>**目的：**使实际系统产生的随机数的随机性更好。</p>
<blockquote>
<p>不后处理也行，代价是随机数产生速率更低。</p>
</blockquote>
<h3 id="方法一：冯·诺依曼法">方法一：冯·诺依曼法</h3>
<p>原始数据进行如下改造：</p>
<ol>
<li>连续出现 <code>10</code> 的，记为 <code>1</code>；</li>
<li>连续出现 <code>01</code> 的，记为 <code>0</code>；</li>
<li>出现 <code>00</code> <code>11</code> 的，舍弃。</li>
</ol>
<p>**优势：**消除原始数据的偏置。新序列中，保证$$P(01)=P(10)$$</p>
<p>**劣势：**速率损失大。</p>
<blockquote>
<p><strong>均匀分布时：</strong>$$P(01)=P(10)=P(00)=P(11)$$，输入长度和输出长度之比为$$1/4$$；</p>
<p>**一般情况：**输入长度和输出长度之比为$$(1/4-e(n)^2)$$，$$e(n)$$为原始数据的偏置。</p>
</blockquote>
<h3 id="方法二：逻辑异或操作">方法二：逻辑异或操作</h3>
<p><strong>过程：</strong></p>
<ol>
<li>
<p>第一种XOR方法：$$A_1\oplus A_2, A_3\oplus A_4, \cdots$$</p>
<blockquote>
<p>输入输出比：$$1/2$$</p>
</blockquote>
</li>
<li>
<p>第二种XOR方法：$$A_1\oplus A_2, A_2\oplus A_2, \cdots$$</p>
<blockquote>
<p>输入输出比：$$1$$</p>
</blockquote>
</li>
</ol>
<p><strong>作用：</strong></p>
<ol>
<li>改善统计分布。经过一次异或操作，可以将任意统计分布转换为对称统计分布。多次异或下，统计分布非常接近均匀分布。</li>
<li>可以将输出值偏置和自相关系数降低。4</li>
</ol>
<p>**优势：**较高的输入输出比。</p>
<p>**劣势：**重复次数多，引入经典信息多，对于一阶自相关系数高的序列，输出序列相关性高。</p>
<p>**适用范围：**采样速率低。</p>
<h3 id="方法三：m-LSB操作">方法三：m-LSB操作</h3>
<p>**过程：**保留每次采样信号$m$比特最低有效位。</p>
<blockquote>
<p>比方说，我们使用8比特$(n=8)$数模转换器，通过对随机源熵评估得到信息熵为$m=5$，即把每一个采样信号的最高3位舍弃，仅保留最低5位，将这些重新组合得到新输出序列。</p>
</blockquote>
<p>m取值越小，输出序列越接近均匀分布。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-python：多层嵌套的树状json数据和excel数据的转换"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2022/11/06/python%EF%BC%9A%E5%A4%9A%E5%B1%82%E5%B5%8C%E5%A5%97%E7%9A%84%E6%A0%91%E7%8A%B6json%E6%95%B0%E6%8D%AE%E5%92%8Cexcel%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BD%AC%E6%8D%A2/"
    >python：多层嵌套的树状json数据和excel数据的转换</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2022/11/06/python%EF%BC%9A%E5%A4%9A%E5%B1%82%E5%B5%8C%E5%A5%97%E7%9A%84%E6%A0%91%E7%8A%B6json%E6%95%B0%E6%8D%AE%E5%92%8Cexcel%E6%95%B0%E6%8D%AE%E7%9A%84%E8%BD%AC%E6%8D%A2/" class="article-date">
  <time datetime="2022-11-06T04:27:20.000Z" itemprop="datePublished">2022-11-06</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/categories/Pyecharts/">Pyecharts</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1>问题</h1>
<p>目标：实现多层嵌套的树状json数据和excel数据的转换</p>
<p>工具：python</p>
<details>
  <summary>json数据转化结果</summary>
  <pre><code>  
  data = [
    {
        "name": "Flora",
        "itemStyle": {"color": "#da0d68"},
        "children": [
            {"name": "Black Tea", "value": 1, "itemStyle": {"color": "#975e6d"}},
            {
                "name": "Floral",
                "itemStyle": {"color": "#e0719c"},
                "children": [
                    {
                        "name": "Chamomile",
                        "value": 1,
                        "itemStyle": {"color": "#f99e1c"},
                    },
                    {"name": "Rose", "value": 1, "itemStyle": {"color": "#ef5a78"}},
                    {"name": "Jasmine", "value": 1, "itemStyle": {"color": "#f7f1bd"}},
                ],
            },
        ],
    },
    {
        "name": "Fruity",
        "itemStyle": {"color": "#da1d23"},
        "children": [
            {
                "name": "Berry",
                "itemStyle": {"color": "#dd4c51"},
                "children": [
                    {
                        "name": "Blackberry",
                        "value": 1,
                        "itemStyle": {"color": "#3e0317"},
                    },
                    {
                        "name": "Raspberry",
                        "value": 1,
                        "itemStyle": {"color": "#e62969"},
                    },
                    {
                        "name": "Blueberry",
                        "value": 1,
                        "itemStyle": {"color": "#6569b0"},
                    },
                    {
                        "name": "Strawberry",
                        "value": 1,
                        "itemStyle": {"color": "#ef2d36"},
                    },
                ],
            },
            {
                "name": "Dried Fruit",
                "itemStyle": {"color": "#c94a44"},
                "children": [
                    {"name": "Raisin", "value": 1, "itemStyle": {"color": "#b53b54"}},
                    {"name": "Prune", "value": 1, "itemStyle": {"color": "#a5446f"}},
                ],
            },
            {
                "name": "Other Fruit",
                "itemStyle": {"color": "#dd4c51"},
                "children": [
                    {"name": "Coconut", "value": 1, "itemStyle": {"color": "#f2684b"}},
                    {"name": "Cherry", "value": 1, "itemStyle": {"color": "#e73451"}},
                    {
                        "name": "Pomegranate",
                        "value": 1,
                        "itemStyle": {"color": "#e65656"},
                    },
                    {
                        "name": "Pineapple",
                        "value": 1,
                        "itemStyle": {"color": "#f89a1c"},
                    },
                    {"name": "Grape", "value": 1, "itemStyle": {"color": "#aeb92c"}},
                    {"name": "Apple", "value": 1, "itemStyle": {"color": "#4eb849"}},
                    {"name": "Peach", "value": 1, "itemStyle": {"color": "#f68a5c"}},
                    {"name": "Pear", "value": 1, "itemStyle": {"color": "#baa635"}},
                ],
            },
            {
                "name": "Citrus Fruit",
                "itemStyle": {"color": "#f7a128"},
                "children": [
                    {
                        "name": "Grapefruit",
                        "value": 1,
                        "itemStyle": {"color": "#f26355"},
                    },
                    {"name": "Orange", "value": 1, "itemStyle": {"color": "#e2631e"}},
                    {"name": "Lemon", "value": 1, "itemStyle": {"color": "#fde404"}},
                    {"name": "Lime", "value": 1, "itemStyle": {"color": "#7eb138"}},
                ],
            },
        ],
    },
    {
        "name": "Sour/\nFermented",
        "itemStyle": {"color": "#ebb40f"},
        "children": [
            {
                "name": "Sour",
                "itemStyle": {"color": "#e1c315"},
                "children": [
                    {
                        "name": "Sour Aromatics",
                        "value": 1,
                        "itemStyle": {"color": "#9ea718"},
                    },
                    {
                        "name": "Acetic Acid",
                        "value": 1,
                        "itemStyle": {"color": "#94a76f"},
                    },
                    {
                        "name": "Butyric Acid",
                        "value": 1,
                        "itemStyle": {"color": "#d0b24f"},
                    },
                    {
                        "name": "Isovaleric Acid",
                        "value": 1,
                        "itemStyle": {"color": "#8eb646"},
                    },
                    {
                        "name": "Citric Acid",
                        "value": 1,
                        "itemStyle": {"color": "#faef07"},
                    },
                    {
                        "name": "Malic Acid",
                        "value": 1,
                        "itemStyle": {"color": "#c1ba07"},
                    },
                ],
            },
            {
                "name": "Alcohol/\nFremented",
                "itemStyle": {"color": "#b09733"},
                "children": [
                    {"name": "Winey", "value": 1, "itemStyle": {"color": "#8f1c53"}},
                    {"name": "Whiskey", "value": 1, "itemStyle": {"color": "#b34039"}},
                    {
                        "name": "Fremented",
                        "value": 1,
                        "itemStyle": {"color": "#ba9232"},
                    },
                    {"name": "Overripe", "value": 1, "itemStyle": {"color": "#8b6439"}},
                ],
            },
        ],
    },
    {
        "name": "Green/\nVegetative",
        "itemStyle": {"color": "#187a2f"},
        "children": [
            {"name": "Olive Oil", "value": 1, "itemStyle": {"color": "#a2b029"}},
            {"name": "Raw", "value": 1, "itemStyle": {"color": "#718933"}},
            {
                "name": "Green/\nVegetative",
                "itemStyle": {"color": "#3aa255"},
                "children": [
                    {
                        "name": "Under-ripe",
                        "value": 1,
                        "itemStyle": {"color": "#a2bb2b"},
                    },
                    {"name": "Peapod", "value": 1, "itemStyle": {"color": "#62aa3c"}},
                    {"name": "Fresh", "value": 1, "itemStyle": {"color": "#03a653"}},
                    {
                        "name": "Dark Green",
                        "value": 1,
                        "itemStyle": {"color": "#038549"},
                    },
                    {
                        "name": "Vegetative",
                        "value": 1,
                        "itemStyle": {"color": "#28b44b"},
                    },
                    {"name": "Hay-like", "value": 1, "itemStyle": {"color": "#a3a830"}},
                    {
                        "name": "Herb-like",
                        "value": 1,
                        "itemStyle": {"color": "#7ac141"},
                    },
                ],
            },
            {"name": "Beany", "value": 1, "itemStyle": {"color": "#5e9a80"}},
        ],
    },
    {
        "name": "Other",
        "itemStyle": {"color": "#0aa3b5"},
        "children": [
            {
                "name": "Papery/Musty",
                "itemStyle": {"color": "#9db2b7"},
                "children": [
                    {"name": "Stale", "value": 1, "itemStyle": {"color": "#8b8c90"}},
                    {
                        "name": "Cardboard",
                        "value": 1,
                        "itemStyle": {"color": "#beb276"},
                    },
                    {"name": "Papery", "value": 1, "itemStyle": {"color": "#fefef4"}},
                    {"name": "Woody", "value": 1, "itemStyle": {"color": "#744e03"}},
                    {
                        "name": "Moldy/Damp",
                        "value": 1,
                        "itemStyle": {"color": "#a3a36f"},
                    },
                    {
                        "name": "Musty/Dusty",
                        "value": 1,
                        "itemStyle": {"color": "#c9b583"},
                    },
                    {
                        "name": "Musty/Earthy",
                        "value": 1,
                        "itemStyle": {"color": "#978847"},
                    },
                    {"name": "Animalic", "value": 1, "itemStyle": {"color": "#9d977f"}},
                    {
                        "name": "Meaty Brothy",
                        "value": 1,
                        "itemStyle": {"color": "#cc7b6a"},
                    },
                    {"name": "Phenolic", "value": 1, "itemStyle": {"color": "#db646a"}},
                ],
            },
            {
                "name": "Chemical",
                "itemStyle": {"color": "#76c0cb"},
                "children": [
                    {"name": "Bitter", "value": 1, "itemStyle": {"color": "#80a89d"}},
                    {"name": "Salty", "value": 1, "itemStyle": {"color": "#def2fd"}},
                    {
                        "name": "Medicinal",
                        "value": 1,
                        "itemStyle": {"color": "#7a9bae"},
                    },
                    {
                        "name": "Petroleum",
                        "value": 1,
                        "itemStyle": {"color": "#039fb8"},
                    },
                    {"name": "Skunky", "value": 1, "itemStyle": {"color": "#5e777b"}},
                    {"name": "Rubber", "value": 1, "itemStyle": {"color": "#120c0c"}},
                ],
            },
        ],
    },
    {
        "name": "Roasted",
        "itemStyle": {"color": "#c94930"},
        "children": [
            {"name": "Pipe Tobacco", "value": 1, "itemStyle": {"color": "#caa465"}},
            {"name": "Tobacco", "value": 1, "itemStyle": {"color": "#dfbd7e"}},
            {
                "name": "Burnt",
                "itemStyle": {"color": "#be8663"},
                "children": [
                    {"name": "Acrid", "value": 1, "itemStyle": {"color": "#b9a449"}},
                    {"name": "Ashy", "value": 1, "itemStyle": {"color": "#899893"}},
                    {"name": "Smoky", "value": 1, "itemStyle": {"color": "#a1743b"}},
                    {
                        "name": "Brown, Roast",
                        "value": 1,
                        "itemStyle": {"color": "#894810"},
                    },
                ],
            },
            {
                "name": "Cereal",
                "itemStyle": {"color": "#ddaf61"},
                "children": [
                    {"name": "Grain", "value": 1, "itemStyle": {"color": "#b7906f"}},
                    {"name": "Malt", "value": 1, "itemStyle": {"color": "#eb9d5f"}},
                ],
            },
        ],
    },
    {
        "name": "Spices",
        "itemStyle": {"color": "#ad213e"},
        "children": [
            {"name": "Pungent", "value": 1, "itemStyle": {"color": "#794752"}},
            {"name": "Pepper", "value": 1, "itemStyle": {"color": "#cc3d41"}},
            {
                "name": "Brown Spice",
                "itemStyle": {"color": "#b14d57"},
                "children": [
                    {"name": "Anise", "value": 1, "itemStyle": {"color": "#c78936"}},
                    {"name": "Nutmeg", "value": 1, "itemStyle": {"color": "#8c292c"}},
                    {"name": "Cinnamon", "value": 1, "itemStyle": {"color": "#e5762e"}},
                    {"name": "Clove", "value": 1, "itemStyle": {"color": "#a16c5a"}},
                ],
            },
        ],
    },
    {
        "name": "Nutty/\nCocoa",
        "itemStyle": {"color": "#a87b64"},
        "children": [
            {
                "name": "Nutty",
                "itemStyle": {"color": "#c78869"},
                "children": [
                    {"name": "Peanuts", "value": 1, "itemStyle": {"color": "#d4ad12"}},
                    {"name": "Hazelnut", "value": 1, "itemStyle": {"color": "#9d5433"}},
                    {"name": "Almond", "value": 1, "itemStyle": {"color": "#c89f83"}},
                ],
            },
            {
                "name": "Cocoa",
                "itemStyle": {"color": "#bb764c"},
                "children": [
                    {
                        "name": "Chocolate",
                        "value": 1,
                        "itemStyle": {"color": "#692a19"},
                    },
                    {
                        "name": "Dark Chocolate",
                        "value": 1,
                        "itemStyle": {"color": "#470604"},
                    },
                ],
            },
        ],
    },
    {
        "name": "Sweet",
        "itemStyle": {"color": "#e65832"},
        "children": [
            {
                "name": "Brown Sugar",
                "itemStyle": {"color": "#d45a59"},
                "children": [
                    {"name": "Molasses", "value": 1, "itemStyle": {"color": "#310d0f"}},
                    {
                        "name": "Maple Syrup",
                        "value": 1,
                        "itemStyle": {"color": "#ae341f"},
                    },
                    {
                        "name": "Caramelized",
                        "value": 1,
                        "itemStyle": {"color": "#d78823"},
                    },
                    {"name": "Honey", "value": 1, "itemStyle": {"color": "#da5c1f"}},
                ],
            },
            {"name": "Vanilla", "value": 1, "itemStyle": {"color": "#f89a80"}},
            {"name": "Vanillin", "value": 1, "itemStyle": {"color": "#f37674"}},
            {"name": "Overall Sweet", "value": 1, "itemStyle": {"color": "#e75b68"}},
            {"name": "Sweet Aromatics", "value": 1, "itemStyle": {"color": "#d0545f"}},
        ],
    },
	]
  </code></pre>
</details>
<p>excel数据转化结果</p>
<table>
<thead>
<tr>
<th>name1</th>
<th>color1</th>
<th>name2</th>
<th>color2</th>
<th>name3</th>
<th style="text-align:left">color3</th>
</tr>
</thead>
<tbody>
<tr>
<td>Flora</td>
<td>#da0d68</td>
<td>Black Tea</td>
<td>#975e6d</td>
<td>0</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td>Flora</td>
<td>#da0d68</td>
<td>Floral</td>
<td>#e0719c</td>
<td>Chamomile</td>
<td style="text-align:left">#f99e1c</td>
</tr>
<tr>
<td>Flora</td>
<td>#da0d68</td>
<td>Floral</td>
<td>#e0719c</td>
<td>Rose</td>
<td style="text-align:left">#ef5a78</td>
</tr>
<tr>
<td>Flora</td>
<td>#da0d68</td>
<td>Floral</td>
<td>#e0719c</td>
<td>Jasmine</td>
<td style="text-align:left">#f7f1bd</td>
</tr>
<tr>
<td>Fruity</td>
<td>#da1d23</td>
<td>Berry</td>
<td>#dd4c51</td>
<td>Blackberry</td>
<td style="text-align:left">#3e0317</td>
</tr>
<tr>
<td>Fruity</td>
<td>#da1d23</td>
<td>Berry</td>
<td>#dd4c51</td>
<td>Raspberry</td>
<td style="text-align:left">#e62969</td>
</tr>
<tr>
<td>Fruity</td>
<td>#da1d23</td>
<td>Berry</td>
<td>#dd4c51</td>
<td>Blueberry</td>
<td style="text-align:left">#6569b0</td>
</tr>
<tr>
<td>Fruity</td>
<td>#da1d23</td>
<td>Berry</td>
<td>#dd4c51</td>
<td>Strawberry</td>
<td style="text-align:left">#ef2d36</td>
</tr>
<tr>
<td>Fruity</td>
<td>#da1d23</td>
<td>Dried Fruit</td>
<td>#c94a44</td>
<td>Raisin</td>
<td style="text-align:left">#b53b54</td>
</tr>
<tr>
<td>Fruity</td>
<td>#da1d23</td>
<td>Dried Fruit</td>
<td>#c94a44</td>
<td>Prune</td>
<td style="text-align:left">#a5446f</td>
</tr>
<tr>
<td>Fruity</td>
<td>#da1d23</td>
<td>Other Fruit</td>
<td>#dd4c51</td>
<td>Coconut</td>
<td style="text-align:left">#f2684b</td>
</tr>
<tr>
<td>Fruity</td>
<td>#da1d23</td>
<td>Other Fruit</td>
<td>#dd4c51</td>
<td>Cherry</td>
<td style="text-align:left">#e73451</td>
</tr>
<tr>
<td>Fruity</td>
<td>#da1d23</td>
<td>Other Fruit</td>
<td>#dd4c51</td>
<td>Pomegranate</td>
<td style="text-align:left">#e65656</td>
</tr>
</tbody>
</table>
<blockquote>
<p>tips: excel数据仅展示部分</p>
</blockquote>
<h2 id="Part1-多层嵌套json数据→excel数据">Part1: 多层嵌套json数据→excel数据</h2>
<p>代码如下：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> data:</span><br><span class="line">    x = pd.json_normalize(i,</span><br><span class="line">                          record_path=[<span class="string">'children'</span>, <span class="string">'children'</span>], </span><br><span class="line">                          meta=[[<span class="string">'children'</span>, <span class="string">'name'</span>], [<span class="string">'children'</span>, <span class="string">'itemStyle'</span>, <span class="string">'color'</span>], <span class="string">"itemStyle"</span>, <span class="string">"name"</span>],</span><br><span class="line">                          record_prefix=<span class="string">'children-&gt;'</span>,</span><br><span class="line">                          meta_prefix=<span class="string">'father-&gt;'</span>,</span><br><span class="line">                          sep=<span class="string">'-&gt;'</span>,</span><br><span class="line">                          errors=<span class="string">'ignore'</span>)</span><br><span class="line">    df = pd.concat([df, x],axis=<span class="number">0</span>)</span><br><span class="line">df.to_csv(<span class="string">'1.csv'</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>1、<strong>json_normalize用法：</strong></p>
<ul>
<li>
<p>**第一个参数：**转换的json数据</p>
</li>
<li>
<p>**record_path：**搜索路径。如果不设置这个参数，默认将json第一层数据转为dataframe，内层数据将还是字典格式。如果要找到children里的数据，则需设定路径，格式为：每一层的名字组成的列表。这里名字需为json数据中每一层的列表名。此例中，我们有3层数据，要找到做内层的children，需要设置为[‘children’, ‘children’]。</p>
<blockquote>
<p>这里可能会报这样的错误：<strong>KeyError: ‘children’</strong></p>
<p>是因为有的数据有一个children，有的数据有children的children，所以他无法识别只有一个children数据的路径，所以这里我们需要手动检查一下数据，把只有一个children的数据加一个空的children参数**, ‘children’: [{‘name’: 0}]**，这样就没问题啦。</p>
</blockquote>
</li>
<li>
<p>**meta：**添加额外列。如果我们成功取到最内层的children数据，我们还想再补充上它的上一级中的参数，就可使用这个参数。**格式：**还是按照搜索路径的方式，依次添加在列表中。最外层的数据不需要列表，直接写名字就行。</p>
</li>
<li>
<p>**record_prefix’和meta_prefix：**当不同级别数据中有重名时使用，否则报错。</p>
</li>
<li>
<p>**errors：**忽略缺少key的情况。数据中，有的children的key有，有的children的key没有，这样就会报错。写上就可以忽略这些错误正常执行。</p>
</li>
</ul>
<p>2、处理完每一组数据，把数据追加到上一次循环好的dataframe中。</p>
<p>3、最后输出csv格式数据。</p>
<h2 id="Part2-excel数据→多层嵌套json数据">Part2: excel数据→多层嵌套json数据</h2>
<p>代码如下：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">"旭日图数据.csv"</span>)</span><br><span class="line"></span><br><span class="line">data = []</span><br><span class="line"><span class="keyword">for</span> first <span class="keyword">in</span> df[<span class="string">"name1"</span>].unique():</span><br><span class="line">    first_dict = {}</span><br><span class="line">    first_dict[<span class="string">"name"</span>] = first</span><br><span class="line">    first_dict[<span class="string">"itemStyle"</span>] = {<span class="string">"color"</span>: df[df[<span class="string">"name1"</span>] == first][<span class="string">"color1"</span>].unique()[<span class="number">0</span>]}</span><br><span class="line">    first_list = []</span><br><span class="line">    first_data = df[df[<span class="string">"name1"</span>] == first]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> second <span class="keyword">in</span> first_data[<span class="string">"name2"</span>].unique():</span><br><span class="line">        second_dict = {}</span><br><span class="line">        second_dict[<span class="string">"name"</span>] = second</span><br><span class="line">        second_dict[<span class="string">"itemStyle"</span>] = {<span class="string">"color"</span>: first_data[first_data[<span class="string">"name2"</span>] == second][<span class="string">"color2"</span>].unique()[<span class="number">0</span>]}</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (first_data[first_data[<span class="string">"name2"</span>] == second][<span class="string">"name3"</span>].unique()[<span class="number">0</span>] == <span class="string">'0'</span>):</span><br><span class="line">            second_dict[<span class="string">"value"</span>] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            second_list = []</span><br><span class="line">            second_data = first_data[first_data[<span class="string">"name2"</span>] == second]</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> third <span class="keyword">in</span> second_data[<span class="string">"name3"</span>].unique():</span><br><span class="line">                third_dict = {}</span><br><span class="line">                third_dict[<span class="string">"name"</span>] = third</span><br><span class="line">                third_dict[<span class="string">"itemStyle"</span>] = {<span class="string">"color"</span>: second_data[second_data[<span class="string">"name3"</span>] == third][<span class="string">"color3"</span>].unique()[<span class="number">0</span>]}</span><br><span class="line">                third_dict[<span class="string">"value"</span>] = <span class="number">1</span></span><br><span class="line">                second_list.append(third_dict)</span><br><span class="line">            second_dict[<span class="string">"children"</span>] = second_list</span><br><span class="line"></span><br><span class="line">        first_list.append(second_dict)</span><br><span class="line">    first_dict[<span class="string">"children"</span>] = first_list</span><br><span class="line"></span><br><span class="line">    data.append(first_dict)</span><br></pre></td></tr></tbody></table></figure>
<p>**第一层循环：**先取出name1的数据，unique()一下（去掉重复），遍历每个名字。</p>
<p>​					   创建一个字典，里面存放“名字”和“颜色”，</p>
<p>​					   再创建一个列表，用来存放“children”，</p>
<p>​					   筛选出name1的数据，用于下一级循环</p>
<p><strong>第二层循环：</strong>（思路和第一层一样）</p>
<p>​					   这里强调的是由于有的数据只有一个children，有的有两个，所以这里判断一下，如果name3为0，即没有第三层，则赋value=1，否则进行第三层循环</p>
<p><strong>第三层循环：</strong>（思路和第一层一样）</p>
<p>​					   遍历完之后就要把数据合一起了（本层的数据加到上一层的列表中，上一层的列表赋值到上一层的字典中）</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2022-2023
        <i class="ri-heart-fill heart_icon"></i> 发现美的眼睛
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="活着就是为了改变世界"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/photos">摄影</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/talkshow">TalkShow</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/paper_folding">折纸</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">友链</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2022/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>